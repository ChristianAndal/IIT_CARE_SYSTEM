{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Care Dashboard{% endblock %}</title>
    <link rel="stylesheet" href="/static/CSS/styles.css">
    <link rel="stylesheet" href="{% static 'Dashboard/CSS/dashboard.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    {% block extra_css %}{% endblock %}
</head>
<body class="dashboard-body">
    <!-- Global Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16 2L4 8V14C4 21.5 10.5 27.5 16 30C21.5 27.5 28 21.5 28 14V8L16 2Z" fill="#2563EB"/>
                    <path d="M16 22C18.7614 22 21 19.7614 21 17C21 14.2386 18.7614 12 16 12C13.2386 12 11 14.2386 11 17C11 19.7614 13.2386 22 16 22Z" fill="white"/>
                </svg>
                <span class="sidebar-logo-text">Care</span>
            </div>
            <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M4 6H16M4 10H16M4 14H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <ul class="sidebar-menu">
                <li>
                    <a href="{% url 'dashboard' %}" class="sidebar-item {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M3 10L9 4L9 10L17 10L17 16L3 16L3 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2L2 7L2 17L10 22L18 17L18 7L10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Patients</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M3 4H17M3 8H17M3 12H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Appointments</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 6H18M2 10H18M2 14H18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Medical Records</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2L2 7L2 17L10 22L18 17L18 7L10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Prescriptions</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2"/>
                            <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span>Lab Results</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2L2 7L2 17L10 22L18 17L18 7L10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>Analytics</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-item">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 10C12.7614 10 15 7.76142 15 5C15 2.23858 12.7614 0 10 0C7.23858 0 5 2.23858 5 5C5 7.76142 7.23858 10 10 10Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M0 20C0 15.5817 4.47715 12 10 12C15.5228 12 20 15.5817 20 20" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="sidebar-user">
                <div class="sidebar-user-avatar">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                        <path d="M6 21C6 17.134 8.68629 14 12 14C15.3137 14 18 17.134 18 21" stroke="currentColor" stroke-width="2"/>
                    </svg>
                </div>
                <div class="sidebar-user-info">
                    <div class="sidebar-user-name">{% if user.is_authenticated %}{{ user.get_full_name|default:user.username }}{% else %}Guest{% endif %}</div>
                    <div class="sidebar-user-role">{% if user.is_authenticated %}User{% else %}Guest{% endif %}</div>
                </div>
            </div>
            <a href="{% url 'logout' %}" class="sidebar-logout">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M7 17L2 12M2 12L7 7M2 12H18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Logout</span>
            </a>
        </div>
    </aside>
    
    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Top Navigation Bar -->
        <header class="dashboard-header">
            <div class="dashboard-header-content">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <div class="dashboard-header-search">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="2"/>
                        <path d="M15 15L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input type="text" placeholder="Search..." class="search-input">
                </div>
                <div class="dashboard-header-actions">
                    <button class="header-icon-btn" aria-label="Notifications">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2C7.23858 2 5 4.23858 5 7V11C5 12.6569 4.32843 14.1569 3.25 15.25L3 15.5V17H17V15.5L16.75 15.25C15.6716 14.1569 15 12.6569 15 11V7C15 4.23858 12.7614 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M7.5 17V18.5C7.5 19.3284 8.17157 20 9 20H11C11.8284 20 12.5 19.3284 12.5 18.5V17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        <span class="notification-badge">3</span>
                    </button>
                    <button class="header-icon-btn" aria-label="Messages">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 4H18V14H4L2 16V4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="header-user-menu">
                        <button class="header-user-btn" id="userMenuToggle">
                            <div class="header-user-avatar">
                                {% if user.is_authenticated %}
                                    {{ user.username|first|upper }}
                                {% else %}
                                    G
                                {% endif %}
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Page Content -->
        <main class="dashboard-main">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            
            {% block content %}{% endblock %}
        </main>
    </div>
    
    <script src="{% static 'Dashboard/JS/dashboard.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
